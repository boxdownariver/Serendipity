<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Group 1 Serendipity Project: write_entry.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Group 1 Serendipity Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('write__entry_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">write_entry.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="curses_8priv_8h_source.html">curses.priv.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="hashed__db_8h_source.html">hashed_db.h</a>&gt;</code><br />
<code>#include &lt;tic.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for write_entry.c:</div>
<div class="dyncontent">
<div class="center"><img src="write__entry_8c__incl.png" border="0" usemap="#awrite__entry_8c" alt=""/></div>
<map name="awrite__entry_8c" id="awrite__entry_8c">
<area shape="rect" title=" " alt="" coords="979,5,1074,32"/>
<area shape="rect" href="curses_8priv_8h.html" title=" " alt="" coords="979,80,1074,107"/>
<area shape="rect" href="hashed__db_8h.html" title=" " alt="" coords="5,155,101,181"/>
<area shape="rect" title=" " alt="" coords="1098,80,1144,107"/>
<area shape="rect" title=" " alt="" coords="854,229,953,256"/>
<area shape="rect" href="ncurses__cfg_8h.html" title=" " alt="" coords="469,229,573,256"/>
<area shape="rect" title=" " alt="" coords="948,155,1016,181"/>
<area shape="rect" title=" " alt="" coords="1040,155,1103,181"/>
<area shape="rect" title=" " alt="" coords="1128,155,1192,181"/>
<area shape="rect" title=" " alt="" coords="735,229,824,256"/>
<area shape="rect" title=" " alt="" coords="1216,155,1295,181"/>
<area shape="rect" title=" " alt="" coords="1319,155,1387,181"/>
<area shape="rect" title=" " alt="" coords="408,304,468,331"/>
<area shape="rect" title=" " alt="" coords="1412,155,1473,181"/>
<area shape="rect" title=" " alt="" coords="1506,229,1573,256"/>
<area shape="rect" href="nc__string_8h.html" title=" " alt="" coords="457,155,542,181"/>
<area shape="rect" title=" " alt="" coords="1497,155,1569,181"/>
<area shape="rect" href="nc__panel_8h.html" title=" " alt="" coords="124,155,208,181"/>
<area shape="rect" href="term_8priv_8h.html" title=" " alt="" coords="1753,155,1836,181"/>
<area shape="rect" title=" " alt="" coords="1848,229,1941,256"/>
<area shape="rect" href="nc__termios_8h.html" title=" " alt="" coords="566,155,662,181"/>
<area shape="rect" title=" " alt="" coords="1592,155,1679,181"/>
<area shape="rect" href="new__pair_8h.html" title=" " alt="" coords="738,155,822,181"/>
<area shape="rect" href="nc__alloc_8h.html" title=" " alt="" coords="233,155,313,181"/>
<area shape="rect" href="nc__access_8h.html" title=" " alt="" coords="337,155,433,181"/>
<area shape="rect" href="ncurses__def_8h.html" title=" " alt="" coords="492,304,595,331"/>
<area shape="rect" href="ncurses_2include_2curses_8h.html" title=" " alt="" coords="193,229,265,256"/>
<area shape="rect" href="ncurses_2include_2ncurses__dll_8h.html" title=" " alt="" coords="285,304,384,331"/>
<area shape="rect" title=" " alt="" coords="16,304,80,331"/>
<area shape="rect" title=" " alt="" coords="104,304,172,331"/>
<area shape="rect" href="ncurses_2include_2unctrl_8h.html" title=" " alt="" coords="197,304,261,331"/>
<area shape="rect" title=" " alt="" coords="1597,229,1661,256"/>
<area shape="rect" title=" " alt="" coords="1684,229,1742,256"/>
<area shape="rect" title=" " alt="" coords="1765,229,1824,256"/>
</map>
</div>
</div>
<p><a href="write__entry_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0bf5ef27ce4c1add5ce7f0e3e8482dc2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>(p)&#160;&#160;&#160;<a class="el" href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a>(2, p)</td></tr>
<tr class="separator:a0bf5ef27ce4c1add5ce7f0e3e8482dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee751b688569191fd3468685fdb7af80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#aee751b688569191fd3468685fdb7af80">TRACE_NUM</a>(<a class="el" href="wcwidth_8h.html#a3d05cf6aa68b03e254d70afbe869e305">n</a>)</td></tr>
<tr class="separator:aee751b688569191fd3468685fdb7af80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee672d978008cf4bf036ca460112791"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf,  size,  count)&#160;&#160;&#160;fake_write(buffer, offset, (<a class="el" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) limit, (char *) buf, (<a class="el" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) count, (<a class="el" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) size)</td></tr>
<tr class="separator:afee672d978008cf4bf036ca460112791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464086719dcbec3a5447a3e76dd2e935"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a464086719dcbec3a5447a3e76dd2e935">HI</a>(<a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)&#160;&#160;&#160;((<a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>) / 256)</td></tr>
<tr class="separator:a464086719dcbec3a5447a3e76dd2e935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f6bf8df35486f1d7c1ea59b71aa448"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#ab7f6bf8df35486f1d7c1ea59b71aa448">LO</a>(<a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)&#160;&#160;&#160;((<a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>) % 256)</td></tr>
<tr class="separator:ab7f6bf8df35486f1d7c1ea59b71aa448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a9e9a4b4c22afd8e7739d583e0bc38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(p,  <a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)</td></tr>
<tr class="separator:a29a9e9a4b4c22afd8e7739d583e0bc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ed34aff9f54c16466d8de62c70e360"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a59ed34aff9f54c16466d8de62c70e360">WRITE_STRING</a>(str)&#160;&#160;&#160;(<a class="el" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(str, sizeof(char), strlen(str) + 1) == strlen(str) + 1)</td></tr>
<tr class="separator:a59ed34aff9f54c16466d8de62c70e360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59446cb87787685fb1ec1091774480ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a59446cb87787685fb1ec1091774480ec">even_boundary</a>(<a class="el" href="curses_8priv_8h.html#a3772851912abe3ccbff5c659ff71f2ff">value</a>)&#160;&#160;&#160;	    ((<a class="el" href="curses_8priv_8h.html#a3772851912abe3ccbff5c659ff71f2ff">value</a>) % 2 != 0 &amp;&amp; <a class="el" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(&amp;zero, sizeof(char), 1) != 1)</td></tr>
<tr class="separator:a59446cb87787685fb1ec1091774480ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97c20c5450de340c64eaa17f0fd7a2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a>&#160;&#160;&#160;convert_shorts</td></tr>
<tr class="separator:ad97c20c5450de340c64eaa17f0fd7a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a744c942ff43a96b223ba2d07f84215a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a744c942ff43a96b223ba2d07f84215a7">_nc_set_writedir</a> (<a class="el" href="include_2ncurses_2term_8h.html#a7516f0621980ef2571e1cb8612882bfc">const</a> char *dir)</td></tr>
<tr class="separator:a744c942ff43a96b223ba2d07f84215a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf4902905df7fa2eba8a2e8106b3d80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#aedf4902905df7fa2eba8a2e8106b3d80">_nc_write_entry</a> (TERMTYPE2 *<a class="el" href="include_2ncurses_2term_8h.html#a7516f0621980ef2571e1cb8612882bfc">const</a> tp)</td></tr>
<tr class="separator:aedf4902905df7fa2eba8a2e8106b3d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739df85a3dddec0136bfc5370665d24b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#a739df85a3dddec0136bfc5370665d24b">_nc_write_object</a> (TERMTYPE2 *tp, char *buffer, <a class="el" href="curses_8priv_8h.html#aca40206900cfc164654362fa8d4ad1e6">unsigned</a> *offset, <a class="el" href="curses_8priv_8h.html#aca40206900cfc164654362fa8d4ad1e6">unsigned</a> limit)</td></tr>
<tr class="separator:a739df85a3dddec0136bfc5370665d24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff64b162ccad61bad76de7930419caae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__entry_8c.html#aff64b162ccad61bad76de7930419caae">_nc_tic_written</a> (<a class="el" href="comp__parse_8c.html#afc0ab997dc16d799168325d36b4cb94b">void</a>)</td></tr>
<tr class="separator:aff64b162ccad61bad76de7930419caae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad97c20c5450de340c64eaa17f0fd7a2b" name="ad97c20c5450de340c64eaa17f0fd7a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad97c20c5450de340c64eaa17f0fd7a2b">&#9670;&#160;</a></span>convert_numbers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define convert_numbers&#160;&#160;&#160;convert_shorts</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a59446cb87787685fb1ec1091774480ec" name="a59446cb87787685fb1ec1091774480ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59446cb87787685fb1ec1091774480ec">&#9670;&#160;</a></span>even_boundary</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define even_boundary</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="curses_8priv_8h.html#a3772851912abe3ccbff5c659ff71f2ff">value</a></td><td>)</td>
          <td>&#160;&#160;&#160;	    ((<a class="el" href="curses_8priv_8h.html#a3772851912abe3ccbff5c659ff71f2ff">value</a>) % 2 != 0 &amp;&amp; <a class="el" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(&amp;zero, sizeof(char), 1) != 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00639">639</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="a464086719dcbec3a5447a3e76dd2e935" name="a464086719dcbec3a5447a3e76dd2e935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464086719dcbec3a5447a3e76dd2e935">&#9670;&#160;</a></span>HI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>) / 256)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00559">559</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="a29a9e9a4b4c22afd8e7739d583e0bc38" name="a29a9e9a4b4c22afd8e7739d583e0bc38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a9e9a4b4c22afd8e7739d583e0bc38">&#9670;&#160;</a></span>LITTLE_ENDIAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LITTLE_ENDIAN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                (p)[0] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code hl_define" href="write__entry_8c.html#ab7f6bf8df35486f1d7c1ea59b71aa448">LO</a>(<a class="code hl_variable" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>),  \</div>
<div class="line">                                (p)[1] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code hl_define" href="write__entry_8c.html#a464086719dcbec3a5447a3e76dd2e935">HI</a>(<a class="code hl_variable" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>)</div>
<div class="ttc" id="aknight_8c_html_a6150e0515f7202e2fb518f7206ed97dc"><div class="ttname"><a href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="knight_8c_source.html#l00097">knight.c:97</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_a464086719dcbec3a5447a3e76dd2e935"><div class="ttname"><a href="write__entry_8c.html#a464086719dcbec3a5447a3e76dd2e935">HI</a></div><div class="ttdeci">#define HI(x)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00559">write_entry.c:559</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_ab7f6bf8df35486f1d7c1ea59b71aa448"><div class="ttname"><a href="write__entry_8c.html#ab7f6bf8df35486f1d7c1ea59b71aa448">LO</a></div><div class="ttdeci">#define LO(x)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00560">write_entry.c:560</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00561">561</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="ab7f6bf8df35486f1d7c1ea59b71aa448" name="ab7f6bf8df35486f1d7c1ea59b71aa448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f6bf8df35486f1d7c1ea59b71aa448">&#9670;&#160;</a></span>LO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="knight_8c.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>) % 256)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00560">560</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="aee751b688569191fd3468685fdb7af80" name="aee751b688569191fd3468685fdb7af80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee751b688569191fd3468685fdb7af80">&#9670;&#160;</a></span>TRACE_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_NUM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="wcwidth_8h.html#a3d05cf6aa68b03e254d70afbe869e305">n</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">if</span> (<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ab23e1692571872de77f6b7b9c28f53fd">VALID_NUMERIC</a>(<a class="code hl_enumvalue" href="tparm__type_8h.html#ad0f6d05b4c86be20834f1a03bfb956a0a75ae2be15c445baf8b48d6d08a69363f">Numbers</a>[<a class="code hl_variable" href="wcwidth_8h.html#a3d05cf6aa68b03e254d70afbe869e305">n</a>])) { \</div>
<div class="line">    TRACE_OUT((<span class="stringliteral">&quot;put Numbers[%u]=%d&quot;</span>, (<span class="keywordtype">unsigned</span>) (<a class="code hl_variable" href="wcwidth_8h.html#a3d05cf6aa68b03e254d70afbe869e305">n</a>), <a class="code hl_enumvalue" href="tparm__type_8h.html#ad0f6d05b4c86be20834f1a03bfb956a0a75ae2be15c445baf8b48d6d08a69363f">Numbers</a>[<a class="code hl_variable" href="wcwidth_8h.html#a3d05cf6aa68b03e254d70afbe869e305">n</a>])); }</div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_ab23e1692571872de77f6b7b9c28f53fd"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#ab23e1692571872de77f6b7b9c28f53fd">VALID_NUMERIC</a></div><div class="ttdeci">#define VALID_NUMERIC(s)</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00249">include/ncurses/tic.h:249</a></div></div>
<div class="ttc" id="atparm__type_8h_html_ad0f6d05b4c86be20834f1a03bfb956a0a75ae2be15c445baf8b48d6d08a69363f"><div class="ttname"><a href="tparm__type_8h.html#ad0f6d05b4c86be20834f1a03bfb956a0a75ae2be15c445baf8b48d6d08a69363f">Numbers</a></div><div class="ttdeci">@ Numbers</div><div class="ttdef"><b>Definition:</b> <a href="tparm__type_8h_source.html#l00048">tparm_type.h:47</a></div></div>
<div class="ttc" id="awcwidth_8h_html_a3d05cf6aa68b03e254d70afbe869e305"><div class="ttname"><a href="wcwidth_8h.html#a3d05cf6aa68b03e254d70afbe869e305">n</a></div><div class="ttdeci">size_t n</div><div class="ttdef"><b>Definition:</b> <a href="wcwidth_8h_source.html#l00220">wcwidth.h:221</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00047">47</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="a0bf5ef27ce4c1add5ce7f0e3e8482dc2" name="a0bf5ef27ce4c1add5ce7f0e3e8482dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">&#9670;&#160;</a></span>TRACE_OUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_OUT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a>(2, p)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright 2018-2022,2023 Thomas E. Dickey * Copyright 1998-2016,2017 Free Software Foundation, Inc. *</p><ul>
<li>Permission is hereby granted, free of charge, to any person obtaining a * copy of this software and associated documentation files (the * "Software"), to deal in the Software without restriction, including * without limitation the rights to use, copy, modify, merge, publish, * distribute, distribute with modifications, sublicense, and/or sell * copies of the Software, and to permit persons to whom the Software is * furnished to do so, subject to the following conditions: *</li>
<li>The above copyright notice and this permission notice shall be included * in all copies or substantial portions of the Software. *</li>
<li>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. * IN NO EVENT SHALL THE ABOVE COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR * THE USE OR OTHER DEALINGS IN THE SOFTWARE. *</li>
<li>Except as contained in this notice, the name(s) of the above copyright * holders shall not be used in advertising or otherwise to promote the * sale, use or other dealings in this Software without prior written * authorization. * Author: Zeyd M. Ben-Halim <a href="#" onclick="location.href='mai'+'lto:'+'zmb'+'en'+'hal'+'@n'+'etc'+'om'+'.co'+'m'; return false;">zmben<span class="obfuscator">.nosp@m.</span>hal@<span class="obfuscator">.nosp@m.</span>netco<span class="obfuscator">.nosp@m.</span>m.co<span class="obfuscator">.nosp@m.</span>m</a> 1992,1995 * and: Eric S. Raymond <a href="#" onclick="location.href='mai'+'lto:'+'esr'+'@s'+'nar'+'k.'+'thy'+'rs'+'us.'+'co'+'m'; return false;">esr@s<span class="obfuscator">.nosp@m.</span>nark<span class="obfuscator">.nosp@m.</span>.thyr<span class="obfuscator">.nosp@m.</span>sus.<span class="obfuscator">.nosp@m.</span>com</a> * and: Thomas E. Dickey 1996-on * </li>
</ul>

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00046">46</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="afee672d978008cf4bf036ca460112791" name="afee672d978008cf4bf036ca460112791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee672d978008cf4bf036ca460112791">&#9670;&#160;</a></span>Write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Write</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">count&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;fake_write(buffer, offset, (<a class="el" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) limit, (char *) buf, (<a class="el" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) count, (<a class="el" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00556">556</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<a id="a59ed34aff9f54c16466d8de62c70e360" name="a59ed34aff9f54c16466d8de62c70e360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ed34aff9f54c16466d8de62c70e360">&#9670;&#160;</a></span>WRITE_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_STRING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">str</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(str, sizeof(char), strlen(str) + 1) == strlen(str) + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00564">564</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a744c942ff43a96b223ba2d07f84215a7" name="a744c942ff43a96b223ba2d07f84215a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744c942ff43a96b223ba2d07f84215a7">&#9670;&#160;</a></span>_nc_set_writedir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_nc_set_writedir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2ncurses_2term_8h.html#a7516f0621980ef2571e1cb8612882bfc">const</a> char *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00213">213</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>{</div>
<div class="line"><span class="lineno">  215</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *destination;</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordtype">char</span> actual[<a class="code hl_define" href="curses_8priv_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> (dir == 0</div>
<div class="line"><span class="lineno">  219</span>#ifndef <a class="code hl_define" href="ncurses__cfg_8h.html#a3f2bd76df582bdbfa0785e3e3476a648">USE_ROOT_ENVIRON</a></div>
<div class="line"><span class="lineno">  220</span>    &amp;&amp; <a class="code hl_define" href="nc__access_8h.html#a5e0799c0ed5500989fbac8ffc242c500">use_terminfo_vars</a>()</div>
<div class="line"><span class="lineno">  221</span>#endif</div>
<div class="line"><span class="lineno">  222</span>    )</div>
<div class="line"><span class="lineno">  223</span>    dir = getenv(<span class="stringliteral">&quot;TERMINFO&quot;</span>);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> (dir != 0)</div>
<div class="line"><span class="lineno">  226</span>    (<a class="code hl_function" href="comp__parse_8c.html#afc0ab997dc16d799168325d36b4cb94b">void</a>) <a class="code hl_function" href="db__iterator_8c.html#ae7ae01dd2306032221252e708c021662">_nc_tic_dir</a>(dir);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    destination = <a class="code hl_function" href="db__iterator_8c.html#ae7ae01dd2306032221252e708c021662">_nc_tic_dir</a>(0);</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">if</span> (make_db_root(destination) &lt; 0) {</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordtype">char</span> *home = <a class="code hl_function" href="home__terminfo_8c.html#a9f78736e96e77e76930d1e5c058d55be">_nc_home_terminfo</a>();</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span> (home != 0) {</div>
<div class="line"><span class="lineno">  233</span>        destination = home;</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">if</span> (make_db_root(destination) &lt; 0)</div>
<div class="line"><span class="lineno">  235</span>        <a class="code hl_function" href="comp__error_8c.html#a409f428f1b6466f5de1d6a217cdebd06">_nc_err_abort</a>(<span class="stringliteral">&quot;%s: permission denied (errno %d)&quot;</span>,</div>
<div class="line"><span class="lineno">  236</span>                  destination, errno);</div>
<div class="line"><span class="lineno">  237</span>    }</div>
<div class="line"><span class="lineno">  238</span>    }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  241</span><span class="comment">     * Note: because of this code, this logic should be exercised</span></div>
<div class="line"><span class="lineno">  242</span><span class="comment">     * *once only* per run.</span></div>
<div class="line"><span class="lineno">  243</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  244</span><span class="preprocessor">#if USE_HASHED_DB</span></div>
<div class="line"><span class="lineno">  245</span>    make_db_path(actual, destination, <span class="keyword">sizeof</span>(actual));</div>
<div class="line"><span class="lineno">  246</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> (chdir(<a class="code hl_function" href="db__iterator_8c.html#ae7ae01dd2306032221252e708c021662">_nc_tic_dir</a>(destination)) &lt; 0</div>
<div class="line"><span class="lineno">  248</span>    || <a class="code hl_define" href="curses_8priv_8h.html#ac2f9dce783587b6eb28f3ed897e6d5eb">getcwd</a>(actual, <span class="keyword">sizeof</span>(actual)) == 0)</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_function" href="comp__error_8c.html#a409f428f1b6466f5de1d6a217cdebd06">_nc_err_abort</a>(<span class="stringliteral">&quot;%s: not a directory&quot;</span>, destination);</div>
<div class="line"><span class="lineno">  250</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  251</span>    <a class="code hl_function" href="db__iterator_8c.html#aa6db0b398ec1cf40d5bb0550d442a392">_nc_keep_tic_dir</a>(actual);</div>
<div class="line"><span class="lineno">  252</span>}</div>
<div class="ttc" id="acomp__error_8c_html_a409f428f1b6466f5de1d6a217cdebd06"><div class="ttname"><a href="comp__error_8c.html#a409f428f1b6466f5de1d6a217cdebd06">_nc_err_abort</a></div><div class="ttdeci">_nc_err_abort(const char *const fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="comp__error_8c_source.html#l00124">comp_error.c:124</a></div></div>
<div class="ttc" id="acomp__parse_8c_html_afc0ab997dc16d799168325d36b4cb94b"><div class="ttname"><a href="comp__parse_8c.html#afc0ab997dc16d799168325d36b4cb94b">void</a></div><div class="ttdeci">NCURSES_IMPEXP void(NCURSES_API *_nc_check_termtype2)(TERMTYPE2 *</div></div>
<div class="ttc" id="acurses_8priv_8h_html_ac2f9dce783587b6eb28f3ed897e6d5eb"><div class="ttname"><a href="curses_8priv_8h.html#ac2f9dce783587b6eb28f3ed897e6d5eb">getcwd</a></div><div class="ttdeci">#define getcwd(buf, len)</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l01887">curses.priv.h:1887</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="curses_8priv_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l00098">curses.priv.h:98</a></div></div>
<div class="ttc" id="adb__iterator_8c_html_aa6db0b398ec1cf40d5bb0550d442a392"><div class="ttname"><a href="db__iterator_8c.html#aa6db0b398ec1cf40d5bb0550d442a392">_nc_keep_tic_dir</a></div><div class="ttdeci">_nc_keep_tic_dir(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="db__iterator_8c_source.html#l00242">db_iterator.c:242</a></div></div>
<div class="ttc" id="adb__iterator_8c_html_ae7ae01dd2306032221252e708c021662"><div class="ttname"><a href="db__iterator_8c.html#ae7ae01dd2306032221252e708c021662">_nc_tic_dir</a></div><div class="ttdeci">_nc_tic_dir(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="db__iterator_8c_source.html#l00217">db_iterator.c:217</a></div></div>
<div class="ttc" id="ahome__terminfo_8c_html_a9f78736e96e77e76930d1e5c058d55be"><div class="ttname"><a href="home__terminfo_8c.html#a9f78736e96e77e76930d1e5c058d55be">_nc_home_terminfo</a></div><div class="ttdeci">_nc_home_terminfo(void)</div><div class="ttdef"><b>Definition:</b> <a href="home__terminfo_8c_source.html#l00048">home_terminfo.c:48</a></div></div>
<div class="ttc" id="anc__access_8h_html_a5e0799c0ed5500989fbac8ffc242c500"><div class="ttname"><a href="nc__access_8h.html#a5e0799c0ed5500989fbac8ffc242c500">use_terminfo_vars</a></div><div class="ttdeci">#define use_terminfo_vars()</div><div class="ttdef"><b>Definition:</b> <a href="nc__access_8h_source.html#l00052">nc_access.h:52</a></div></div>
<div class="ttc" id="ancurses__cfg_8h_html_a3f2bd76df582bdbfa0785e3e3476a648"><div class="ttname"><a href="ncurses__cfg_8h.html#a3f2bd76df582bdbfa0785e3e3476a648">USE_ROOT_ENVIRON</a></div><div class="ttdeci">#define USE_ROOT_ENVIRON</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__cfg_8h_source.html#l00075">ncurses_cfg.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aff64b162ccad61bad76de7930419caae" name="aff64b162ccad61bad76de7930419caae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff64b162ccad61bad76de7930419caae">&#9670;&#160;</a></span>_nc_tic_written()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_nc_tic_written </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="comp__parse_8c.html#afc0ab997dc16d799168325d36b4cb94b">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00940">940</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  941</span>{</div>
<div class="line"><span class="lineno">  942</span>    <a class="code hl_define" href="curses_8priv_8h.html#a2de1bbc5e3ee565f4f2195349d24a83e">TR</a>(<a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa3e1fd93494e665d2f03600a6c791517">TRACE_DATABASE</a>, (<span class="stringliteral">&quot;_nc_tic_written %d entries, %d parts, %d size&quot;</span>,</div>
<div class="line"><span class="lineno">  943</span>            total_written, total_parts, total_size));</div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">return</span> total_written;</div>
<div class="line"><span class="lineno">  945</span>}</div>
<div class="ttc" id="acurses_8priv_8h_html_a2de1bbc5e3ee565f4f2195349d24a83e"><div class="ttname"><a href="curses_8priv_8h.html#a2de1bbc5e3ee565f4f2195349d24a83e">TR</a></div><div class="ttdeci">#define TR(n, a)</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l01720">curses.priv.h:1720</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_aa3e1fd93494e665d2f03600a6c791517"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#aa3e1fd93494e665d2f03600a6c791517">TRACE_DATABASE</a></div><div class="ttdeci">#define TRACE_DATABASE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l01765">include/ncurses/curses.h:1765</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aedf4902905df7fa2eba8a2e8106b3d80" name="aedf4902905df7fa2eba8a2e8106b3d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf4902905df7fa2eba8a2e8106b3d80">&#9670;&#160;</a></span>_nc_write_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_nc_write_entry </td>
          <td>(</td>
          <td class="paramtype">TERMTYPE2 *<a class="el" href="include_2ncurses_2term_8h.html#a7516f0621980ef2571e1cb8612882bfc">const</a>&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00275">275</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  276</span>{</div>
<div class="line"><span class="lineno">  277</span><span class="preprocessor">#if USE_HASHED_DB</span></div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordtype">char</span> buffer[<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ab98e64df0049cc6c7282602f0a8c1b4a">MAX_ENTRY_SIZE</a> + 1];</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordtype">unsigned</span> limit = <span class="keyword">sizeof</span>(buffer);</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordtype">unsigned</span> offset = 0;</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span><span class="preprocessor">#else </span><span class="comment">/* !USE_HASHED_DB */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    <span class="keyword">struct </span>stat statbuf;</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordtype">char</span> filename[<a class="code hl_define" href="curses_8priv_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordtype">char</span> linkname[<a class="code hl_define" href="curses_8priv_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div>
<div class="line"><span class="lineno">  288</span><span class="preprocessor">#if USE_SYMLINKS</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordtype">char</span> symlinkname[<a class="code hl_define" href="curses_8priv_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div>
<div class="line"><span class="lineno">  290</span><span class="preprocessor">#if !HAVE_LINK</span></div>
<div class="line"><span class="lineno">  291</span><span class="preprocessor">#undef HAVE_LINK</span></div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">#define HAVE_LINK 1</span></div>
<div class="line"><span class="lineno">  293</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  294</span><span class="preprocessor">#endif </span><span class="comment">/* USE_SYMLINKS */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordtype">unsigned</span> limit2 = <span class="keyword">sizeof</span>(filename) - (2 + <a class="code hl_define" href="curses_8priv_8h.html#a235067b07389abf80b78c5f29e8e6d5e">LEAF_LEN</a>);</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordtype">char</span> saved = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> call_count;</div>
<div class="line"><span class="lineno">  300</span>    <span class="keyword">static</span> time_t start_time;   <span class="comment">/* time at start of writes */</span></div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span><span class="preprocessor">#endif </span><span class="comment">/* USE_HASHED_DB */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordtype">char</span> name_list[<a class="code hl_define" href="include_2ncurses_2tic_8h.html#a2de492c2d7099ea194707811ce0a5f3c">MAX_TERMINFO_LENGTH</a>];</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordtype">char</span> *first_name, *other_names;</div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordtype">char</span> *term_names = tp-&gt;term_names;</div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordtype">size_t</span> name_size = strlen(term_names);</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">if</span> (name_size == 0) {</div>
<div class="line"><span class="lineno">  311</span>    <a class="code hl_function" href="comp__error_8c.html#a4feb4c2f609782fac80608f44224c191">_nc_syserr_abort</a>(<span class="stringliteral">&quot;no terminal name found.&quot;</span>);</div>
<div class="line"><span class="lineno">  312</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name_size &gt;= <span class="keyword">sizeof</span>(name_list) - 1) {</div>
<div class="line"><span class="lineno">  313</span>    <a class="code hl_function" href="comp__error_8c.html#a4feb4c2f609782fac80608f44224c191">_nc_syserr_abort</a>(<span class="stringliteral">&quot;terminal name too long: %s&quot;</span>, term_names);</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <a class="code hl_define" href="nc__string_8h.html#a63074ac35e2fab448466df02e5cdbcf0">_nc_STRCPY</a>(name_list, term_names, <span class="keyword">sizeof</span>(name_list));</div>
<div class="line"><span class="lineno">  317</span>    <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a>(7, (<span class="stringliteral">&quot;Name list = &#39;%s&#39;&quot;</span>, name_list));</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    first_name = name_list;</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    ptr = &amp;name_list[name_size - 1];</div>
<div class="line"><span class="lineno">  322</span>    other_names = ptr + 1;</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">while</span> (ptr &gt; name_list &amp;&amp; *ptr != <span class="charliteral">&#39;|&#39;</span>)</div>
<div class="line"><span class="lineno">  325</span>    ptr--;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">if</span> (ptr != name_list) {</div>
<div class="line"><span class="lineno">  328</span>    *ptr = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">for</span> (ptr = name_list; *ptr != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; *ptr != <span class="charliteral">&#39;|&#39;</span>; ptr++)</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  334</span>        other_names = ptr;</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  336</span>        *ptr = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  337</span>        other_names = ptr + 1;</div>
<div class="line"><span class="lineno">  338</span>    }</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a>(7, (<span class="stringliteral">&quot;First name = &#39;%s&#39;&quot;</span>, first_name));</div>
<div class="line"><span class="lineno">  342</span>    <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a>(7, (<span class="stringliteral">&quot;Other names = &#39;%s&#39;&quot;</span>, other_names));</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_function" href="comp__error_8c.html#a7a0a3a228edaec67421d38e815be528d">_nc_set_type</a>(first_name);</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span><span class="preprocessor">#if USE_HASHED_DB</span></div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="write__entry_8c.html#a739df85a3dddec0136bfc5370665d24b">_nc_write_object</a>(tp, buffer + 1, &amp;offset, limit - 1) != <a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>) {</div>
<div class="line"><span class="lineno">  348</span>    DB *capdb = _nc_db_open(<a class="code hl_function" href="db__iterator_8c.html#ae7ae01dd2306032221252e708c021662">_nc_tic_dir</a>(0), <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><span class="lineno">  349</span>    DBT key, data;</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">if</span> (capdb != 0) {</div>
<div class="line"><span class="lineno">  352</span>        buffer[0] = 0;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        memset(&amp;key, 0, <span class="keyword">sizeof</span>(key));</div>
<div class="line"><span class="lineno">  355</span>        key.data = term_names;</div>
<div class="line"><span class="lineno">  356</span>        key.size = name_size;</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>        memset(&amp;data, 0, <span class="keyword">sizeof</span>(data));</div>
<div class="line"><span class="lineno">  359</span>        data.data = buffer;</div>
<div class="line"><span class="lineno">  360</span>        data.size = offset + 1;</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        _nc_db_put(capdb, &amp;key, &amp;data);</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>        buffer[0] = 2;</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>        key.data = name_list;</div>
<div class="line"><span class="lineno">  367</span>        key.size = strlen(name_list);</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <a class="code hl_define" href="nc__string_8h.html#a63074ac35e2fab448466df02e5cdbcf0">_nc_STRCPY</a>(buffer + 1,</div>
<div class="line"><span class="lineno">  370</span>               term_names,</div>
<div class="line"><span class="lineno">  371</span>               <span class="keyword">sizeof</span>(buffer) - 1);</div>
<div class="line"><span class="lineno">  372</span>        data.size = name_size + 1;</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>        total_size += data.size;</div>
<div class="line"><span class="lineno">  375</span>        total_parts++;</div>
<div class="line"><span class="lineno">  376</span>        _nc_db_put(capdb, &amp;key, &amp;data);</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">while</span> (*other_names != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno">  379</span>        ptr = other_names++;</div>
<div class="line"><span class="lineno">  380</span>        assert(ptr &lt; buffer + <span class="keyword">sizeof</span>(buffer) - 1);</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">while</span> (*other_names != <span class="charliteral">&#39;|&#39;</span> &amp;&amp; *other_names != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  382</span>            other_names++;</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (*other_names != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  385</span>            *(other_names++) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>        key.data = ptr;</div>
<div class="line"><span class="lineno">  388</span>        key.size = strlen(ptr);</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>        total_size += data.size;</div>
<div class="line"><span class="lineno">  391</span>        total_parts++;</div>
<div class="line"><span class="lineno">  392</span>        _nc_db_put(capdb, &amp;key, &amp;data);</div>
<div class="line"><span class="lineno">  393</span>        }</div>
<div class="line"><span class="lineno">  394</span>    }</div>
<div class="line"><span class="lineno">  395</span>    }</div>
<div class="line"><span class="lineno">  396</span><span class="preprocessor">#else </span><span class="comment">/* !USE_HASHED_DB */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">if</span> (call_count++ == 0) {</div>
<div class="line"><span class="lineno">  398</span>    start_time = 0;</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">if</span> (strlen(first_name) &gt;= limit2) {</div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;terminal name too long.&quot;</span>);</div>
<div class="line"><span class="lineno">  403</span>    saved = first_name[limit2];</div>
<div class="line"><span class="lineno">  404</span>    first_name[limit2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_define" href="nc__string_8h.html#a7223fe9bb65fce8ba94f3eea40a7091b">_nc_SPRINTF</a>(filename, <a class="code hl_define" href="nc__string_8h.html#a092ad33ac518f97727acae824b2647f7">_nc_SLIMIT</a>(<span class="keyword">sizeof</span>(filename))</div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_define" href="curses_8priv_8h.html#a1dd5ea88ae964d9f70051013571f20c4">LEAF_FMT</a> <span class="stringliteral">&quot;/%.*s&quot;</span>, <a class="code hl_define" href="menu_8priv_8h.html#a195344b6afd8e743ad84ff9d963c44be">UChar</a>(first_name[0]),</div>
<div class="line"><span class="lineno">  409</span>        (<span class="keywordtype">int</span>) (<span class="keyword">sizeof</span>(filename) - (<a class="code hl_define" href="curses_8priv_8h.html#a235067b07389abf80b78c5f29e8e6d5e">LEAF_LEN</a> + 2)),</div>
<div class="line"><span class="lineno">  410</span>        first_name);</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span> (saved)</div>
<div class="line"><span class="lineno">  413</span>    first_name[limit2] = saved;</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  416</span><span class="comment">     * Has this primary name been written since the first call to</span></div>
<div class="line"><span class="lineno">  417</span><span class="comment">     * write_entry()?  If so, the newer write will step on the older,</span></div>
<div class="line"><span class="lineno">  418</span><span class="comment">     * so warn the user.</span></div>
<div class="line"><span class="lineno">  419</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">if</span> (start_time &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  421</span>    stat(filename, &amp;statbuf) &gt;= 0</div>
<div class="line"><span class="lineno">  422</span>    &amp;&amp; statbuf.st_mtime &gt;= start_time) {</div>
<div class="line"><span class="lineno">  423</span><span class="preprocessor">#if HAVE_LINK &amp;&amp; !USE_SYMLINKS</span></div>
<div class="line"><span class="lineno">  424</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  425</span><span class="comment">     * If the file has more than one link, the reason for the previous</span></div>
<div class="line"><span class="lineno">  426</span><span class="comment">     * write could be that the current primary name used to be an alias for</span></div>
<div class="line"><span class="lineno">  427</span><span class="comment">     * the previous entry.  In that case, unlink the file so that we will</span></div>
<div class="line"><span class="lineno">  428</span><span class="comment">     * not modify the previous entry as we write this one.</span></div>
<div class="line"><span class="lineno">  429</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">if</span> (statbuf.st_nlink &gt; 1) {</div>
<div class="line"><span class="lineno">  431</span>        <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;name redefined.&quot;</span>);</div>
<div class="line"><span class="lineno">  432</span>        unlink(filename);</div>
<div class="line"><span class="lineno">  433</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  434</span>        <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;name multiply defined.&quot;</span>);</div>
<div class="line"><span class="lineno">  435</span>    }</div>
<div class="line"><span class="lineno">  436</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  437</span>    <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;name multiply defined.&quot;</span>);</div>
<div class="line"><span class="lineno">  438</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  439</span>    }</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    check_writeable(first_name[0]);</div>
<div class="line"><span class="lineno">  442</span>    write_file(filename, tp);</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">if</span> (start_time == 0) {</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">if</span> (stat(filename, &amp;statbuf) == -1</div>
<div class="line"><span class="lineno">  446</span>        || (start_time = statbuf.st_mtime) == 0) {</div>
<div class="line"><span class="lineno">  447</span>        <a class="code hl_function" href="comp__error_8c.html#a4feb4c2f609782fac80608f44224c191">_nc_syserr_abort</a>(<span class="stringliteral">&quot;error obtaining time from %s/%s&quot;</span>,</div>
<div class="line"><span class="lineno">  448</span>                 <a class="code hl_function" href="db__iterator_8c.html#ae7ae01dd2306032221252e708c021662">_nc_tic_dir</a>(0), filename);</div>
<div class="line"><span class="lineno">  449</span>    }</div>
<div class="line"><span class="lineno">  450</span>    }</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">while</span> (*other_names != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno">  452</span>    ptr = other_names++;</div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">while</span> (*other_names != <span class="charliteral">&#39;|&#39;</span> &amp;&amp; *other_names != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  454</span>        other_names++;</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">if</span> (*other_names != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  457</span>        *(other_names++) = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (strlen(ptr) &gt; <span class="keyword">sizeof</span>(linkname) - (2 + <a class="code hl_define" href="curses_8priv_8h.html#a235067b07389abf80b78c5f29e8e6d5e">LEAF_LEN</a>)) {</div>
<div class="line"><span class="lineno">  460</span>        <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;terminal alias %s too long.&quot;</span>, ptr);</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  462</span>    }</div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">if</span> (strchr(ptr, <span class="charliteral">&#39;/&#39;</span>) != 0) {</div>
<div class="line"><span class="lineno">  464</span>        <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;cannot link alias %s.&quot;</span>, ptr);</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    check_writeable(ptr[0]);</div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_define" href="nc__string_8h.html#a7223fe9bb65fce8ba94f3eea40a7091b">_nc_SPRINTF</a>(linkname, <a class="code hl_define" href="nc__string_8h.html#a092ad33ac518f97727acae824b2647f7">_nc_SLIMIT</a>(<span class="keyword">sizeof</span>(linkname))</div>
<div class="line"><span class="lineno">  470</span>            <a class="code hl_define" href="curses_8priv_8h.html#a1dd5ea88ae964d9f70051013571f20c4">LEAF_FMT</a> <span class="stringliteral">&quot;/%.*s&quot;</span>, ptr[0],</div>
<div class="line"><span class="lineno">  471</span>            (<span class="keywordtype">int</span>) <span class="keyword">sizeof</span>(linkname) - (2 + <a class="code hl_define" href="curses_8priv_8h.html#a235067b07389abf80b78c5f29e8e6d5e">LEAF_LEN</a>), ptr);</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">if</span> (strcmp(filename, linkname) == 0) {</div>
<div class="line"><span class="lineno">  474</span>        <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;self-synonym ignored&quot;</span>);</div>
<div class="line"><span class="lineno">  475</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stat(linkname, &amp;statbuf) &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  476</span>           statbuf.st_mtime &gt; start_time) {</div>
<div class="line"><span class="lineno">  477</span>        <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;alias %s multiply defined.&quot;</span>, ptr);</div>
<div class="line"><span class="lineno">  478</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="access_8c.html#a8a0a2c88d5b52e5257c41ec574b071bc">_nc_access</a>(linkname, <a class="code hl_define" href="curses_8priv_8h.html#ae5acf4043c0903cda7436b108e29e8e6">W_OK</a>) == 0)</div>
<div class="line"><span class="lineno">  479</span><span class="preprocessor">#if HAVE_LINK</span></div>
<div class="line"><span class="lineno">  480</span>    {</div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordtype">int</span> code;</div>
<div class="line"><span class="lineno">  482</span><span class="preprocessor">#if USE_SYMLINKS</span></div>
<div class="line"><span class="lineno">  483</span><span class="preprocessor">#define MY_SIZE sizeof(symlinkname) - 1</span></div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">if</span> (first_name[0] == linkname[0]) {</div>
<div class="line"><span class="lineno">  485</span>        <a class="code hl_define" href="nc__string_8h.html#a1cd5d0d506b914112f84fb44dc18f823">_nc_STRNCPY</a>(symlinkname, first_name, <a class="code hl_define" href="comp__error_8c.html#a318a30f1f2d4582911837dba30a4e7fd">MY_SIZE</a>);</div>
<div class="line"><span class="lineno">  486</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  487</span>        <a class="code hl_define" href="nc__string_8h.html#a63074ac35e2fab448466df02e5cdbcf0">_nc_STRCPY</a>(symlinkname, <span class="stringliteral">&quot;../&quot;</span>, <span class="keyword">sizeof</span>(symlinkname));</div>
<div class="line"><span class="lineno">  488</span>        <a class="code hl_define" href="nc__string_8h.html#a1cd5d0d506b914112f84fb44dc18f823">_nc_STRNCPY</a>(symlinkname + 3, filename, <a class="code hl_define" href="comp__error_8c.html#a318a30f1f2d4582911837dba30a4e7fd">MY_SIZE</a> - 3);</div>
<div class="line"><span class="lineno">  489</span>        }</div>
<div class="line"><span class="lineno">  490</span>        symlinkname[<a class="code hl_define" href="comp__error_8c.html#a318a30f1f2d4582911837dba30a4e7fd">MY_SIZE</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  491</span><span class="preprocessor">#endif </span><span class="comment">/* USE_SYMLINKS */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  492</span><span class="preprocessor">#if HAVE_REMOVE</span></div>
<div class="line"><span class="lineno">  493</span>        code = remove(linkname);</div>
<div class="line"><span class="lineno">  494</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  495</span>        code = unlink(linkname);</div>
<div class="line"><span class="lineno">  496</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  497</span>        <span class="keywordflow">if</span> (code != 0 &amp;&amp; errno == ENOENT)</div>
<div class="line"><span class="lineno">  498</span>        code = 0;</div>
<div class="line"><span class="lineno">  499</span><span class="preprocessor">#if USE_SYMLINKS</span></div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">if</span> (symlink(symlinkname, linkname) &lt; 0)</div>
<div class="line"><span class="lineno">  501</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">if</span> (link(filename, linkname) &lt; 0)</div>
<div class="line"><span class="lineno">  503</span><span class="preprocessor">#endif </span><span class="comment">/* USE_SYMLINKS */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  504</span>        {</div>
<div class="line"><span class="lineno">  505</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  506</span><span class="comment">         * If there wasn&#39;t anything there, and we cannot</span></div>
<div class="line"><span class="lineno">  507</span><span class="comment">         * link to the target because it is the same as the</span></div>
<div class="line"><span class="lineno">  508</span><span class="comment">         * target, then the source must be on a filesystem</span></div>
<div class="line"><span class="lineno">  509</span><span class="comment">         * that uses caseless filenames, such as Win32, etc.</span></div>
<div class="line"><span class="lineno">  510</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">if</span> (code == 0 &amp;&amp; errno == EEXIST)</div>
<div class="line"><span class="lineno">  512</span>            <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;can&#39;t link %s to %s&quot;</span>, filename, linkname);</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code == 0 &amp;&amp; (errno == EPERM || errno == ENOENT))</div>
<div class="line"><span class="lineno">  514</span>            write_file(linkname, tp);</div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  516</span><span class="preprocessor">#if MIXEDCASE_FILENAMES</span></div>
<div class="line"><span class="lineno">  517</span>            <a class="code hl_function" href="comp__error_8c.html#a4feb4c2f609782fac80608f44224c191">_nc_syserr_abort</a>(<span class="stringliteral">&quot;can&#39;t link %s to %s&quot;</span>, filename, linkname);</div>
<div class="line"><span class="lineno">  518</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  519</span>            <a class="code hl_function" href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a>(<span class="stringliteral">&quot;can&#39;t link %s to %s (errno=%d)&quot;</span>, filename,</div>
<div class="line"><span class="lineno">  520</span>                linkname, errno);</div>
<div class="line"><span class="lineno">  521</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  522</span>        }</div>
<div class="line"><span class="lineno">  523</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  524</span>        <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a>(1, (<span class="stringliteral">&quot;Linked %s&quot;</span>, linkname));</div>
<div class="line"><span class="lineno">  525</span>        }</div>
<div class="line"><span class="lineno">  526</span>    }</div>
<div class="line"><span class="lineno">  527</span><span class="preprocessor">#else </span><span class="comment">/* just make copies */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  528</span>        write_file(linkname, tp);</div>
<div class="line"><span class="lineno">  529</span><span class="preprocessor">#endif </span><span class="comment">/* HAVE_LINK */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  530</span>    }</div>
<div class="line"><span class="lineno">  531</span><span class="preprocessor">#endif </span><span class="comment">/* USE_HASHED_DB */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  532</span>}</div>
<div class="ttc" id="aaccess_8c_html_a8a0a2c88d5b52e5257c41ec574b071bc"><div class="ttname"><a href="access_8c.html#a8a0a2c88d5b52e5257c41ec574b071bc">_nc_access</a></div><div class="ttdeci">_nc_access(const char *path, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="access_8c_source.html#l00123">access.c:123</a></div></div>
<div class="ttc" id="acomp__error_8c_html_a318a30f1f2d4582911837dba30a4e7fd"><div class="ttname"><a href="comp__error_8c.html#a318a30f1f2d4582911837dba30a4e7fd">MY_SIZE</a></div><div class="ttdeci">#define MY_SIZE</div></div>
<div class="ttc" id="acomp__error_8c_html_a4feb4c2f609782fac80608f44224c191"><div class="ttname"><a href="comp__error_8c.html#a4feb4c2f609782fac80608f44224c191">_nc_syserr_abort</a></div><div class="ttdeci">_nc_syserr_abort(const char *const fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="comp__error_8c_source.html#l00137">comp_error.c:137</a></div></div>
<div class="ttc" id="acomp__error_8c_html_a7a0a3a228edaec67421d38e815be528d"><div class="ttname"><a href="comp__error_8c.html#a7a0a3a228edaec67421d38e815be528d">_nc_set_type</a></div><div class="ttdeci">_nc_set_type(const char *const name)</div><div class="ttdef"><b>Definition:</b> <a href="comp__error_8c_source.html#l00068">comp_error.c:68</a></div></div>
<div class="ttc" id="acomp__error_8c_html_aced0d02f11b79c657a40fa6053bf8555"><div class="ttname"><a href="comp__error_8c.html#aced0d02f11b79c657a40fa6053bf8555">_nc_warning</a></div><div class="ttdeci">_nc_warning(const char *const fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="comp__error_8c_source.html#l00109">comp_error.c:109</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_a1dd5ea88ae964d9f70051013571f20c4"><div class="ttname"><a href="curses_8priv_8h.html#a1dd5ea88ae964d9f70051013571f20c4">LEAF_FMT</a></div><div class="ttdeci">#define LEAF_FMT</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l00888">curses.priv.h:888</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_a235067b07389abf80b78c5f29e8e6d5e"><div class="ttname"><a href="curses_8priv_8h.html#a235067b07389abf80b78c5f29e8e6d5e">LEAF_LEN</a></div><div class="ttdeci">#define LEAF_LEN</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l00889">curses.priv.h:889</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_ae5acf4043c0903cda7436b108e29e8e6"><div class="ttname"><a href="curses_8priv_8h.html#ae5acf4043c0903cda7436b108e29e8e6">W_OK</a></div><div class="ttdeci">#define W_OK</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l01310">curses.priv.h:1310</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l00408">include/ncurses/curses.h:408</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l00267">include/ncurses/curses.h:267</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_a2de492c2d7099ea194707811ce0a5f3c"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#a2de492c2d7099ea194707811ce0a5f3c">MAX_TERMINFO_LENGTH</a></div><div class="ttdeci">#define MAX_TERMINFO_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00256">include/ncurses/tic.h:256</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_a34a43b2f701a707a1ae1277e0816014e"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#a34a43b2f701a707a1ae1277e0816014e">DEBUG</a></div><div class="ttdeci">#define DEBUG(n, a)</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00144">include/ncurses/tic.h:144</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_ab98e64df0049cc6c7282602f0a8c1b4a"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#ab98e64df0049cc6c7282602f0a8c1b4a">MAX_ENTRY_SIZE</a></div><div class="ttdeci">#define MAX_ENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00110">include/ncurses/tic.h:110</a></div></div>
<div class="ttc" id="amenu_8priv_8h_html_a195344b6afd8e743ad84ff9d963c44be"><div class="ttname"><a href="menu_8priv_8h.html#a195344b6afd8e743ad84ff9d963c44be">UChar</a></div><div class="ttdeci">#define UChar(c)</div><div class="ttdef"><b>Definition:</b> <a href="menu_8priv_8h_source.html#l00120">menu.priv.h:120</a></div></div>
<div class="ttc" id="anc__string_8h_html_a092ad33ac518f97727acae824b2647f7"><div class="ttname"><a href="nc__string_8h.html#a092ad33ac518f97727acae824b2647f7">_nc_SLIMIT</a></div><div class="ttdeci">#define _nc_SLIMIT(n)</div><div class="ttdef"><b>Definition:</b> <a href="nc__string_8h_source.html#l00087">nc_string.h:87</a></div></div>
<div class="ttc" id="anc__string_8h_html_a1cd5d0d506b914112f84fb44dc18f823"><div class="ttname"><a href="nc__string_8h.html#a1cd5d0d506b914112f84fb44dc18f823">_nc_STRNCPY</a></div><div class="ttdeci">#define _nc_STRNCPY(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="nc__string_8h_source.html#l00075">nc_string.h:75</a></div></div>
<div class="ttc" id="anc__string_8h_html_a63074ac35e2fab448466df02e5cdbcf0"><div class="ttname"><a href="nc__string_8h.html#a63074ac35e2fab448466df02e5cdbcf0">_nc_STRCPY</a></div><div class="ttdeci">#define _nc_STRCPY(d, s, n)</div><div class="ttdef"><b>Definition:</b> <a href="nc__string_8h_source.html#l00074">nc_string.h:74</a></div></div>
<div class="ttc" id="anc__string_8h_html_a7223fe9bb65fce8ba94f3eea40a7091b"><div class="ttname"><a href="nc__string_8h.html#a7223fe9bb65fce8ba94f3eea40a7091b">_nc_SPRINTF</a></div><div class="ttdeci">#define _nc_SPRINTF</div><div class="ttdef"><b>Definition:</b> <a href="nc__string_8h_source.html#l00086">nc_string.h:86</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_a739df85a3dddec0136bfc5370665d24b"><div class="ttname"><a href="write__entry_8c.html#a739df85a3dddec0136bfc5370665d24b">_nc_write_object</a></div><div class="ttdeci">_nc_write_object(TERMTYPE2 *tp, char *buffer, unsigned *offset, unsigned limit)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00701">write_entry.c:701</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a739df85a3dddec0136bfc5370665d24b" name="a739df85a3dddec0136bfc5370665d24b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a739df85a3dddec0136bfc5370665d24b">&#9670;&#160;</a></span>_nc_write_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_nc_write_object </td>
          <td>(</td>
          <td class="paramtype">TERMTYPE2 *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="curses_8priv_8h.html#aca40206900cfc164654362fa8d4ad1e6">unsigned</a> *&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="curses_8priv_8h.html#aca40206900cfc164654362fa8d4ad1e6">unsigned</a>&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__entry_8c_source.html#l00701">701</a> of file <a class="el" href="write__entry_8c_source.html">write_entry.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  702</span>{</div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordtype">char</span> *namelist;</div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordtype">size_t</span> namelen, boolmax, nummax, strmax, numlen;</div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordtype">char</span> zero = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  706</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordtype">int</span> nextfree;</div>
<div class="line"><span class="lineno">  708</span>    <span class="keywordtype">short</span> offsets[<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ab98e64df0049cc6c7282602f0a8c1b4a">MAX_ENTRY_SIZE</a> / 2];</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ab98e64df0049cc6c7282602f0a8c1b4a">MAX_ENTRY_SIZE</a>];</div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordtype">unsigned</span> last_bool = <a class="code hl_define" href="include_2ncurses_2term_8h.html#ac1608339ec7b32c709a39ec34cb854b9">BOOLWRITE</a>;</div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordtype">unsigned</span> last_num = <a class="code hl_define" href="include_2ncurses_2term_8h.html#a4e9439061dd74e18542226c6e8f387a1">NUMWRITE</a>;</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordtype">unsigned</span> last_str = <a class="code hl_define" href="include_2ncurses_2term_8h.html#af2aa5e16d5830b36b87d0d05d7168b2e">STRWRITE</a>;</div>
<div class="line"><span class="lineno">  713</span><span class="preprocessor">#if NCURSES_EXT_NUMBERS</span></div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordtype">bool</span> need_ints = <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno">  715</span>    <a class="code hl_variable" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a> (*<a class="code hl_define" href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a>) (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *, <a class="code hl_define" href="curses_8priv_8h.html#a12144b17f7c77d92dfdd095bf623eb77">NCURSES_INT2</a> *, <a class="code hl_variable" href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a>) = convert_32bit;</div>
<div class="line"><span class="lineno">  716</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  717</span><span class="preprocessor">#define convert_numbers convert_shorts</span></div>
<div class="line"><span class="lineno">  718</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span><span class="preprocessor">#if NCURSES_XNAMES</span></div>
<div class="line"><span class="lineno">  721</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  722</span><span class="comment">     * Normally we limit the list of values to exclude the &quot;obsolete&quot;</span></div>
<div class="line"><span class="lineno">  723</span><span class="comment">     * capabilities.  However, if we are accepting extended names, add</span></div>
<div class="line"><span class="lineno">  724</span><span class="comment">     * these as well, since they are used for supporting translation</span></div>
<div class="line"><span class="lineno">  725</span><span class="comment">     * to/from termcap.</span></div>
<div class="line"><span class="lineno">  726</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  727</span>    <span class="keywordflow">if</span> (_nc_user_definable) {</div>
<div class="line"><span class="lineno">  728</span>    last_bool = <a class="code hl_define" href="include_2ncurses_2term_8h.html#ac327dac079559966e4a169fe5c7a06ed">BOOLCOUNT</a>;</div>
<div class="line"><span class="lineno">  729</span>    last_num = <a class="code hl_define" href="include_2ncurses_2term_8h.html#afb662a5bb2fe956556d1f670b931058e">NUMCOUNT</a>;</div>
<div class="line"><span class="lineno">  730</span>    last_str = <a class="code hl_define" href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a>;</div>
<div class="line"><span class="lineno">  731</span>    }</div>
<div class="line"><span class="lineno">  732</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    namelist = tp-&gt;term_names;</div>
<div class="line"><span class="lineno">  735</span>    namelen = strlen(namelist) + 1;</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    boolmax = 0;</div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">for</span> (i = 0; i &lt; last_bool; i++) {</div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordflow">if</span> (tp-&gt;Booleans[i] == <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><span class="lineno">  740</span>        boolmax = i + 1;</div>
<div class="line"><span class="lineno">  741</span>    }</div>
<div class="line"><span class="lineno">  742</span>    }</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    nummax = 0;</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">for</span> (i = 0; i &lt; last_num; i++) {</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">if</span> (tp-&gt;Numbers[i] != <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a9804c9c4acb35e6c45d3e298bb32127e">ABSENT_NUMERIC</a>) {</div>
<div class="line"><span class="lineno">  747</span>        nummax = i + 1;</div>
<div class="line"><span class="lineno">  748</span><span class="preprocessor">#if NCURSES_EXT_NUMBERS</span></div>
<div class="line"><span class="lineno">  749</span>        <span class="keywordflow">if</span> (tp-&gt;Numbers[i] &gt; <a class="code hl_define" href="curses_8priv_8h.html#abf965ad8fdde14f081f1bdbb0c95ddd1">MAX_OF_TYPE</a>(<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a503ccaf7db9f4ec08bcba248e990c5d5">NCURSES_COLOR_T</a>)) {</div>
<div class="line"><span class="lineno">  750</span>        need_ints = <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><span class="lineno">  751</span>        }</div>
<div class="line"><span class="lineno">  752</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  753</span>    }</div>
<div class="line"><span class="lineno">  754</span>    }</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>    strmax = 0;</div>
<div class="line"><span class="lineno">  757</span>    <span class="keywordflow">for</span> (i = 0; i &lt; last_str; i++) {</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">if</span> (tp-&gt;Strings[i] != <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a4802737c5f7a52cf03d7a1360726b9a0">ABSENT_STRING</a>)</div>
<div class="line"><span class="lineno">  759</span>        strmax = i + 1;</div>
<div class="line"><span class="lineno">  760</span>    }</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>    nextfree = compute_offsets(tp-&gt;Strings, strmax, offsets);</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>    <span class="comment">/* fill in the header */</span></div>
<div class="line"><span class="lineno">  765</span><span class="preprocessor">#if NCURSES_EXT_NUMBERS</span></div>
<div class="line"><span class="lineno">  766</span>    <span class="keywordflow">if</span> (need_ints) {</div>
<div class="line"><span class="lineno">  767</span>    <a class="code hl_define" href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a> = convert_32bit;</div>
<div class="line"><span class="lineno">  768</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf, <a class="code hl_define" href="include_2ncurses_2tic_8h.html#ade86ed2c7955ab1d3b4b4d84f7df8524">MAGIC2</a>);</div>
<div class="line"><span class="lineno">  769</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  770</span>    <a class="code hl_define" href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a> = convert_16bit;</div>
<div class="line"><span class="lineno">  771</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf, <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div>
<div class="line"><span class="lineno">  772</span>    }</div>
<div class="line"><span class="lineno">  773</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf, <a class="code hl_define" href="include_2ncurses_2tic_8h.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div>
<div class="line"><span class="lineno">  775</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 2, <a class="code hl_define" href="curses_8priv_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>(namelen, <a class="code hl_define" href="include_2ncurses_2tic_8h.html#abdc276a3da6aba2279ae3e4a69731d9f">MAX_NAME_SIZE</a> + 1));</div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 4, boolmax);</div>
<div class="line"><span class="lineno">  778</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 6, nummax);</div>
<div class="line"><span class="lineno">  779</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 8, strmax);</div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 10, nextfree);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment">/* write out the header */</span></div>
<div class="line"><span class="lineno">  783</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;Header of %s @%d&quot;</span>, namelist, *offset));</div>
<div class="line"><span class="lineno">  784</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, 12, 1) != 1</div>
<div class="line"><span class="lineno">  785</span>    || <a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(namelist, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), namelen) != namelen) {</div>
<div class="line"><span class="lineno">  786</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  787</span>    }</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">for</span> (i = 0; i &lt; boolmax; i++) {</div>
<div class="line"><span class="lineno">  790</span>    <span class="keywordflow">if</span> (tp-&gt;Booleans[i] == <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><span class="lineno">  791</span>        buf[i] = <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><span class="lineno">  792</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  793</span>        buf[i] = <a class="code hl_define" href="include_2ncurses_2curses_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno">  794</span>    }</div>
<div class="line"><span class="lineno">  795</span>    }</div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), boolmax) != boolmax) {</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  798</span>    }</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#a59446cb87787685fb1ec1091774480ec">even_boundary</a>(namelen + boolmax)) {</div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  802</span>    }</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;Numerics begin at %04x&quot;</span>, *offset));</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>    <span class="comment">/* the numerics */</span></div>
<div class="line"><span class="lineno">  807</span>    numlen = <a class="code hl_define" href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a>(buf, tp-&gt;Numbers, nummax);</div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, numlen, nummax) != nummax) {</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  810</span>    }</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;String offsets begin at %04x&quot;</span>, *offset));</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    <span class="comment">/* the string offsets */</span></div>
<div class="line"><span class="lineno">  815</span>    convert_shorts(buf, offsets, strmax);</div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, <a class="code hl_define" href="curses_8priv_8h.html#a391756f658c0bdad5fa65c4cd3410ad6">SIZEOF_SHORT</a>, strmax) != strmax) {</div>
<div class="line"><span class="lineno">  817</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  818</span>    }</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;String table begins at %04x&quot;</span>, *offset));</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    <span class="comment">/* the strings */</span></div>
<div class="line"><span class="lineno">  823</span>    <span class="keywordflow">for</span> (i = 0; i &lt; strmax; i++) {</div>
<div class="line"><span class="lineno">  824</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ad7d568307c674f5b43e204251a57422f">VALID_STRING</a>(tp-&gt;Strings[i])) {</div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="write__entry_8c.html#a59ed34aff9f54c16466d8de62c70e360">WRITE_STRING</a>(tp-&gt;Strings[i])) {</div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  827</span>        }</div>
<div class="line"><span class="lineno">  828</span>    }</div>
<div class="line"><span class="lineno">  829</span>    }</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span><span class="preprocessor">#if NCURSES_XNAMES</span></div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">if</span> (extended_object(tp)) {</div>
<div class="line"><span class="lineno">  833</span>    <span class="keywordtype">unsigned</span> ext_total = (<a class="code hl_variable" href="curses_8priv_8h.html#aca40206900cfc164654362fa8d4ad1e6">unsigned</a>) <a class="code hl_define" href="include_2ncurses_2term__entry_8h.html#aba54e233b0e4f02cebe2b2832972a8e9">NUM_EXT_NAMES</a>(tp);</div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordtype">unsigned</span> ext_usage = ext_total;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#a59446cb87787685fb1ec1091774480ec">even_boundary</a>(nextfree)) {</div>
<div class="line"><span class="lineno">  837</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  838</span>    }</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    nextfree = compute_offsets(tp-&gt;Strings + <a class="code hl_define" href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a>,</div>
<div class="line"><span class="lineno">  841</span>                   (<span class="keywordtype">size_t</span>) tp-&gt;ext_Strings,</div>
<div class="line"><span class="lineno">  842</span>                   offsets);</div>
<div class="line"><span class="lineno">  843</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;after extended string capabilities, nextfree=%d&quot;</span>, nextfree));</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> (tp-&gt;ext_Strings &gt;= <a class="code hl_define" href="build_8priv_8h.html#ac01cdf29d88c23c80a382517c5387413">SIZEOF</a>(offsets)) {</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  847</span>    }</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>    nextfree += compute_offsets(tp-&gt;ext_Names,</div>
<div class="line"><span class="lineno">  850</span>                    (<span class="keywordtype">size_t</span>) ext_total,</div>
<div class="line"><span class="lineno">  851</span>                    offsets + tp-&gt;ext_Strings);</div>
<div class="line"><span class="lineno">  852</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;after extended capnames, nextfree=%d&quot;</span>, nextfree));</div>
<div class="line"><span class="lineno">  853</span>    strmax = tp-&gt;ext_Strings + ext_total;</div>
<div class="line"><span class="lineno">  854</span>    <span class="keywordflow">for</span> (i = 0; i &lt; tp-&gt;ext_Strings; ++i) {</div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ad7d568307c674f5b43e204251a57422f">VALID_STRING</a>(tp-&gt;Strings[i + <a class="code hl_define" href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a>])) {</div>
<div class="line"><span class="lineno">  856</span>        ext_usage++;</div>
<div class="line"><span class="lineno">  857</span>        }</div>
<div class="line"><span class="lineno">  858</span>    }</div>
<div class="line"><span class="lineno">  859</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;will write %u/%lu strings&quot;</span>, ext_usage, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) strmax));</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  862</span><span class="comment">     * Write the extended header</span></div>
<div class="line"><span class="lineno">  863</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  864</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 0, tp-&gt;ext_Booleans);</div>
<div class="line"><span class="lineno">  865</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 2, tp-&gt;ext_Numbers);</div>
<div class="line"><span class="lineno">  866</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 4, tp-&gt;ext_Strings);</div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 6, ext_usage);</div>
<div class="line"><span class="lineno">  868</span>    <a class="code hl_define" href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a>(buf + 8, nextfree);</div>
<div class="line"><span class="lineno">  869</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;WRITE extended-header @%d&quot;</span>, *offset));</div>
<div class="line"><span class="lineno">  870</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, 10, 1) != 1) {</div>
<div class="line"><span class="lineno">  871</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  872</span>    }</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;WRITE %d booleans @%d&quot;</span>, tp-&gt;ext_Booleans, *offset));</div>
<div class="line"><span class="lineno">  875</span>    <span class="keywordflow">if</span> (tp-&gt;ext_Booleans</div>
<div class="line"><span class="lineno">  876</span>        &amp;&amp; <a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(tp-&gt;Booleans + <a class="code hl_define" href="include_2ncurses_2term_8h.html#ac327dac079559966e4a169fe5c7a06ed">BOOLCOUNT</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>),</div>
<div class="line"><span class="lineno">  877</span>             tp-&gt;ext_Booleans) != tp-&gt;ext_Booleans) {</div>
<div class="line"><span class="lineno">  878</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  879</span>    }</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#a59446cb87787685fb1ec1091774480ec">even_boundary</a>(tp-&gt;ext_Booleans)) {</div>
<div class="line"><span class="lineno">  882</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  883</span>    }</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;WRITE %d numbers @%d&quot;</span>, tp-&gt;ext_Numbers, *offset));</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (tp-&gt;ext_Numbers) {</div>
<div class="line"><span class="lineno">  887</span>        numlen = <a class="code hl_define" href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a>(buf, tp-&gt;Numbers + <a class="code hl_define" href="include_2ncurses_2term_8h.html#afb662a5bb2fe956556d1f670b931058e">NUMCOUNT</a>, (<span class="keywordtype">size_t</span>) tp-&gt;ext_Numbers);</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, numlen, tp-&gt;ext_Numbers) != tp-&gt;ext_Numbers) {</div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  890</span>        }</div>
<div class="line"><span class="lineno">  891</span>    }</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  894</span><span class="comment">     * Convert the offsets for the ext_Strings and ext_Names tables,</span></div>
<div class="line"><span class="lineno">  895</span><span class="comment">     * in that order.</span></div>
<div class="line"><span class="lineno">  896</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  897</span>    convert_shorts(buf, offsets, strmax);</div>
<div class="line"><span class="lineno">  898</span>    <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;WRITE offsets @%d&quot;</span>, *offset));</div>
<div class="line"><span class="lineno">  899</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a>(buf, <a class="code hl_define" href="curses_8priv_8h.html#a391756f658c0bdad5fa65c4cd3410ad6">SIZEOF_SHORT</a>, strmax) != strmax) {</div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  901</span>    }</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  904</span><span class="comment">     * Write the string table after the offset tables so we do not</span></div>
<div class="line"><span class="lineno">  905</span><span class="comment">     * have to do anything about alignment.</span></div>
<div class="line"><span class="lineno">  906</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  907</span>    <span class="keywordflow">for</span> (i = 0; i &lt; tp-&gt;ext_Strings; i++) {</div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="include_2ncurses_2tic_8h.html#ad7d568307c674f5b43e204251a57422f">VALID_STRING</a>(tp-&gt;Strings[i + <a class="code hl_define" href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a>])) {</div>
<div class="line"><span class="lineno">  909</span>        <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;WRITE ext_Strings[%d]=%s&quot;</span>, (<span class="keywordtype">int</span>) i,</div>
<div class="line"><span class="lineno">  910</span>               <a class="code hl_function" href="visbuf_8c.html#ac41acfd33719dc9db81287a3d2908084">_nc_visbuf</a>(tp-&gt;Strings[i + <a class="code hl_define" href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a>])));</div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="write__entry_8c.html#a59ed34aff9f54c16466d8de62c70e360">WRITE_STRING</a>(tp-&gt;Strings[i + <a class="code hl_define" href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a>])) {</div>
<div class="line"><span class="lineno">  912</span>            <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  913</span>        }</div>
<div class="line"><span class="lineno">  914</span>        }</div>
<div class="line"><span class="lineno">  915</span>    }</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  918</span><span class="comment">     * Write the extended names</span></div>
<div class="line"><span class="lineno">  919</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">for</span> (i = 0; i &lt; ext_total; i++) {</div>
<div class="line"><span class="lineno">  921</span>        <a class="code hl_define" href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a>((<span class="stringliteral">&quot;WRITE ext_Names[%d]=%s&quot;</span>, (<span class="keywordtype">int</span>) i, tp-&gt;ext_Names[i]));</div>
<div class="line"><span class="lineno">  922</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="write__entry_8c.html#a59ed34aff9f54c16466d8de62c70e360">WRITE_STRING</a>(tp-&gt;ext_Names[i])) {</div>
<div class="line"><span class="lineno">  923</span>        <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>);</div>
<div class="line"><span class="lineno">  924</span>        }</div>
<div class="line"><span class="lineno">  925</span>    }</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    }</div>
<div class="line"><span class="lineno">  928</span><span class="preprocessor">#endif </span><span class="comment">/* NCURSES_XNAMES */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  929</span> </div>
<div class="line"><span class="lineno">  930</span>    total_written++;</div>
<div class="line"><span class="lineno">  931</span>    total_parts++;</div>
<div class="line"><span class="lineno">  932</span>    total_size = total_size + (<a class="code hl_variable" href="include_2ncurses_2curses_8h.html#a14887a23e4dddb6ee073667457809932">int</a>) (*offset + 1);</div>
<div class="line"><span class="lineno">  933</span>    <span class="keywordflow">return</span> (<a class="code hl_define" href="include_2ncurses_2curses_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>);</div>
<div class="line"><span class="lineno">  934</span>}</div>
<div class="ttc" id="abuild_8priv_8h_html_ac01cdf29d88c23c80a382517c5387413"><div class="ttname"><a href="build_8priv_8h.html#ac01cdf29d88c23c80a382517c5387413">SIZEOF</a></div><div class="ttdeci">#define SIZEOF(v)</div><div class="ttdef"><b>Definition:</b> <a href="build_8priv_8h_source.html#l00083">build.priv.h:83</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_a12144b17f7c77d92dfdd095bf623eb77"><div class="ttname"><a href="curses_8priv_8h.html#a12144b17f7c77d92dfdd095bf623eb77">NCURSES_INT2</a></div><div class="ttdeci">#define NCURSES_INT2</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l00454">curses.priv.h:454</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_a391756f658c0bdad5fa65c4cd3410ad6"><div class="ttname"><a href="curses_8priv_8h.html#a391756f658c0bdad5fa65c4cd3410ad6">SIZEOF_SHORT</a></div><div class="ttdeci">#define SIZEOF_SHORT</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l00459">curses.priv.h:459</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_abf965ad8fdde14f081f1bdbb0c95ddd1"><div class="ttname"><a href="curses_8priv_8h.html#abf965ad8fdde14f081f1bdbb0c95ddd1">MAX_OF_TYPE</a></div><div class="ttdeci">#define MAX_OF_TYPE(t)</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l00756">curses.priv.h:756</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="curses_8priv_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l01278">curses.priv.h:1278</a></div></div>
<div class="ttc" id="acurses_8priv_8h_html_aca40206900cfc164654362fa8d4ad1e6"><div class="ttname"><a href="curses_8priv_8h.html#aca40206900cfc164654362fa8d4ad1e6">unsigned</a></div><div class="ttdeci">const char unsigned</div><div class="ttdef"><b>Definition:</b> <a href="curses_8priv_8h_source.html#l02078">curses.priv.h:2078</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_a14887a23e4dddb6ee073667457809932"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#a14887a23e4dddb6ee073667457809932">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l00607">include/ncurses/curses.h:607</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_a503ccaf7db9f4ec08bcba248e990c5d5"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#a503ccaf7db9f4ec08bcba248e990c5d5">NCURSES_COLOR_T</a></div><div class="ttdeci">#define NCURSES_COLOR_T</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l00142">include/ncurses/curses.h:142</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l00270">include/ncurses/curses.h:270</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2curses_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="include_2ncurses_2curses_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2curses_8h_source.html#l00411">include/ncurses/curses.h:411</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term_8h_html_a4e9439061dd74e18542226c6e8f387a1"><div class="ttname"><a href="include_2ncurses_2term_8h.html#a4e9439061dd74e18542226c6e8f387a1">NUMWRITE</a></div><div class="ttdeci">#define NUMWRITE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term_8h_source.html#l00625">include/ncurses/term.h:625</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term_8h_html_ac1608339ec7b32c709a39ec34cb854b9"><div class="ttname"><a href="include_2ncurses_2term_8h.html#ac1608339ec7b32c709a39ec34cb854b9">BOOLWRITE</a></div><div class="ttdeci">#define BOOLWRITE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term_8h_source.html#l00624">include/ncurses/term.h:624</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term_8h_html_ac327dac079559966e4a169fe5c7a06ed"><div class="ttname"><a href="include_2ncurses_2term_8h.html#ac327dac079559966e4a169fe5c7a06ed">BOOLCOUNT</a></div><div class="ttdeci">#define BOOLCOUNT</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term_8h_source.html#l00677">include/ncurses/term.h:677</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term_8h_html_af2aa5e16d5830b36b87d0d05d7168b2e"><div class="ttname"><a href="include_2ncurses_2term_8h.html#af2aa5e16d5830b36b87d0d05d7168b2e">STRWRITE</a></div><div class="ttdeci">#define STRWRITE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term_8h_source.html#l00626">include/ncurses/term.h:626</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term_8h_html_afa708e63ca327d35b428d8152f29e529"><div class="ttname"><a href="include_2ncurses_2term_8h.html#afa708e63ca327d35b428d8152f29e529">STRCOUNT</a></div><div class="ttdeci">#define STRCOUNT</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term_8h_source.html#l00679">include/ncurses/term.h:679</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term_8h_html_afb662a5bb2fe956556d1f670b931058e"><div class="ttname"><a href="include_2ncurses_2term_8h.html#afb662a5bb2fe956556d1f670b931058e">NUMCOUNT</a></div><div class="ttdeci">#define NUMCOUNT</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term_8h_source.html#l00678">include/ncurses/term.h:678</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2term__entry_8h_html_aba54e233b0e4f02cebe2b2832972a8e9"><div class="ttname"><a href="include_2ncurses_2term__entry_8h.html#aba54e233b0e4f02cebe2b2832972a8e9">NUM_EXT_NAMES</a></div><div class="ttdeci">#define NUM_EXT_NAMES(tp)</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2term__entry_8h_source.html#l00068">include/ncurses/term_entry.h:68</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_a4802737c5f7a52cf03d7a1360726b9a0"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#a4802737c5f7a52cf03d7a1360726b9a0">ABSENT_STRING</a></div><div class="ttdeci">#define ABSENT_STRING</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00241">include/ncurses/tic.h:241</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00085">include/ncurses/tic.h:85</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_a9804c9c4acb35e6c45d3e298bb32127e"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#a9804c9c4acb35e6c45d3e298bb32127e">ABSENT_NUMERIC</a></div><div class="ttdeci">#define ABSENT_NUMERIC</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00240">include/ncurses/tic.h:240</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_abdc276a3da6aba2279ae3e4a69731d9f"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#abdc276a3da6aba2279ae3e4a69731d9f">MAX_NAME_SIZE</a></div><div class="ttdeci">#define MAX_NAME_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00103">include/ncurses/tic.h:103</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_ad7d568307c674f5b43e204251a57422f"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#ad7d568307c674f5b43e204251a57422f">VALID_STRING</a></div><div class="ttdeci">#define VALID_STRING(s)</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00250">include/ncurses/tic.h:250</a></div></div>
<div class="ttc" id="ainclude_2ncurses_2tic_8h_html_ade86ed2c7955ab1d3b4b4d84f7df8524"><div class="ttname"><a href="include_2ncurses_2tic_8h.html#ade86ed2c7955ab1d3b4b4d84f7df8524">MAGIC2</a></div><div class="ttdeci">#define MAGIC2</div><div class="ttdef"><b>Definition:</b> <a href="include_2ncurses_2tic_8h_source.html#l00086">include/ncurses/tic.h:86</a></div></div>
<div class="ttc" id="anc__alloc_8h_html_ae43e1afb4123c6ddee091cf03ec10266"><div class="ttname"><a href="nc__alloc_8h.html#ae43e1afb4123c6ddee091cf03ec10266">size_t</a></div><div class="ttdeci">size_t</div><div class="ttdef"><b>Definition:</b> <a href="nc__alloc_8h_source.html#l00107">nc_alloc.h:107</a></div></div>
<div class="ttc" id="avisbuf_8c_html_ac41acfd33719dc9db81287a3d2908084"><div class="ttname"><a href="visbuf_8c.html#ac41acfd33719dc9db81287a3d2908084">_nc_visbuf</a></div><div class="ttdeci">_nc_visbuf(const char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="visbuf_8c_source.html#l00163">visbuf.c:163</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_a0bf5ef27ce4c1add5ce7f0e3e8482dc2"><div class="ttname"><a href="write__entry_8c.html#a0bf5ef27ce4c1add5ce7f0e3e8482dc2">TRACE_OUT</a></div><div class="ttdeci">#define TRACE_OUT(p)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00046">write_entry.c:46</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_a29a9e9a4b4c22afd8e7739d583e0bc38"><div class="ttname"><a href="write__entry_8c.html#a29a9e9a4b4c22afd8e7739d583e0bc38">LITTLE_ENDIAN</a></div><div class="ttdeci">#define LITTLE_ENDIAN(p, x)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00561">write_entry.c:561</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_a59446cb87787685fb1ec1091774480ec"><div class="ttname"><a href="write__entry_8c.html#a59446cb87787685fb1ec1091774480ec">even_boundary</a></div><div class="ttdeci">#define even_boundary(value)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00639">write_entry.c:639</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_a59ed34aff9f54c16466d8de62c70e360"><div class="ttname"><a href="write__entry_8c.html#a59ed34aff9f54c16466d8de62c70e360">WRITE_STRING</a></div><div class="ttdeci">#define WRITE_STRING(str)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00564">write_entry.c:564</a></div></div>
<div class="ttc" id="awrite__entry_8c_html_ad97c20c5450de340c64eaa17f0fd7a2b"><div class="ttname"><a href="write__entry_8c.html#ad97c20c5450de340c64eaa17f0fd7a2b">convert_numbers</a></div><div class="ttdeci">#define convert_numbers</div></div>
<div class="ttc" id="awrite__entry_8c_html_afee672d978008cf4bf036ca460112791"><div class="ttname"><a href="write__entry_8c.html#afee672d978008cf4bf036ca460112791">Write</a></div><div class="ttdeci">#define Write(buf, size, count)</div><div class="ttdef"><b>Definition:</b> <a href="write__entry_8c_source.html#l00556">write_entry.c:556</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5cbe23a9be7c44f91287eac8b266ec16.html">ncurses-fix</a></li><li class="navelem"><a class="el" href="dir_b40eb23c1e865746efc1d552dde0adca.html">ncurses</a></li><li class="navelem"><a class="el" href="dir_6242b427970e31407a21993b6f6b3798.html">ncurses</a></li><li class="navelem"><a class="el" href="dir_e14eef37f2b1b62212d65b2e7215f2ac.html">tinfo</a></li><li class="navelem"><a class="el" href="write__entry_8c.html">write_entry.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
